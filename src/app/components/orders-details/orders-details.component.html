<li class="bg-white shadow-md hover:shadow-lg transition-shadow rounded-2xl p-4 border border-gray-100">
  <div class="flex justify-between items-center mb-2">
    <div>
      <h4 class="text-sm text-gray-500">Order ID:</h4>
      <p class="text-gray-900 font-medium tracking-tight text-sm">{{ order().id }}</p>
    </div>
    <span
      [ngClass]="{
        'bg-green-100 text-green-800': order().status === 'SUCCESSFULLY',
        'bg-yellow-100 text-yellow-800': order().status === 'PROCESSING',
        'bg-red-100 text-red-800': order().status === 'FAILED',
        'bg-blue-100 text-blue-800': order().status === 'REFUND',
        'bg-blue-100 text-indigo-600': order().status === 'PENDING_PAYMENT'
      }"
      class="text-xs font-semibold px-3 py-1 rounded-full"
    >
      {{ order().status }}
    </span>
  </div>

  <div class="flex justify-between items-center border-t border-gray-100 pt-2 text-sm">
    <div>
      <p class="text-gray-500">Date:</p>
      <p class="text-gray-900">{{ order().createdAt | date: 'mediumDate' }}</p>
    </div>
    <div>
      <p class="text-gray-500">Payment method:</p>
      <p class="text-gray-900">{{ order().paymentMethod }}</p>
    </div>
    <div class="text-right">
      <p class="text-gray-500">Amount:</p>
      <p class="text-lg font-semibold text-gray-900">{{ order().amount | currency:'USD' }}</p>
    </div>
  </div>

  @if (order().description) {
    <div  class="mt-3 text-gray-600 text-sm italic border-t border-gray-100 pt-2">
        {{ order().description }}
    </div>
  }

  @if (order().products!.length) {
    <div class="mt-3">
        <h5 class="text-xs font-medium text-gray-500 mb-1">Productos:</h5>
        <ul class="space-y-1 text-sm text-gray-700">
            @for (p of order().products; track $index) {
                <li>
                    - Producto ID: <span class="font-medium">{{ p.productId }}</span> Ã— <span>{{ p.quantity }}</span>
                </li>
            }
        </ul>
    </div>
  }

  @if (order().status === 'FAILED') {
    <div class="flex justify-center mt-6">
        <button [disabled]="isLoading()" routerLink="/contact/support" mat-stroked-button class="mx-auto">Contact support</button>
    </div>
  }@else if (order().status != 'SUCCESSFULLY') {
    <div class="flex justify-center mt-6">
        <button [disabled]="isLoading()" (click)="continuePaymnt()" mat-flat-button class="mx-auto">Complete payment</button>
    </div>
  }

  @if (error()) {
    <div class="mt-2.5" >
      <alert type="ERROR" [message]="error()!"/>
    </div>
  }

</li>
